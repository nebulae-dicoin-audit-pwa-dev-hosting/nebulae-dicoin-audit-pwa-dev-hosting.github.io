{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/src/@fuse/core/FuseSearch/FuseSearch.js\";\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\nimport { styled } from '@mui/material/styles';\nimport Icon from '@mui/material/Icon';\nimport IconButton from '@mui/material/IconButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport MenuItem from '@mui/material/MenuItem';\nimport Paper from '@mui/material/Paper';\nimport Popper from '@mui/material/Popper';\nimport TextField from '@mui/material/TextField';\nimport Tooltip from '@mui/material/Tooltip';\nimport Typography from '@mui/material/Typography';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport { memo, useEffect, useReducer, useRef } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport { useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { selectFlatNavigation } from 'app/store/fuse/navigationSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Root = styled('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .FuseSearch-container': {\n      position: 'relative'\n    },\n    '& .FuseSearch-suggestionsContainerOpen': {\n      position: 'absolute',\n      zIndex: 1,\n      marginTop: theme.spacing(),\n      left: 0,\n      right: 0\n    },\n    '& .FuseSearch-suggestion': {\n      display: 'block'\n    },\n    '& .FuseSearch-suggestionsList': {\n      margin: 0,\n      padding: 0,\n      listStyleType: 'none'\n    },\n    '& .FuseSearch-input': {\n      transition: theme.transitions.create(['background-color'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.short\n      }),\n      '&:focus': {\n        backgroundColor: theme.palette.background.paper\n      }\n    }\n  };\n});\n\nfunction renderInputComponent(inputProps) {\n  const {\n    variant,\n    inputRef = () => {},\n    ref,\n    ...other\n  } = inputProps;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full relative\",\n    children: variant === 'basic' ?\n    /*#__PURE__*/\n    // Outlined\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        InputProps: {\n          inputRef: node => {\n            ref(node);\n            inputRef(node);\n          },\n          classes: {\n            input: 'FuseSearch-input py-0 px-16 h-40 md:h-48 ltr:pr-48 rtl:pl-48',\n            notchedOutline: 'rounded-8'\n          }\n        },\n        variant: \"outlined\",\n        ...other\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Icon, {\n        className: \"absolute top-0 ltr:right-0 rtl:left-0 h-40 md:h-48 w-48 p-12 pointer-events-none\",\n        color: \"action\",\n        children: \"search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) :\n    /*#__PURE__*/\n    // Standard\n    _jsxDEV(TextField, {\n      fullWidth: true,\n      InputProps: {\n        disableUnderline: true,\n        inputRef: node => {\n          ref(node);\n          inputRef(node);\n        },\n        classes: {\n          input: 'FuseSearch-input py-0 px-16 h-48 md:h-64'\n        }\n      },\n      variant: \"standard\",\n      ...other\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\nfunction renderSuggestion(suggestion, _ref2) {\n  let {\n    query,\n    isHighlighted\n  } = _ref2;\n  const matches = match(suggestion.title, query);\n  const parts = parse(suggestion.title, matches);\n  return /*#__PURE__*/_jsxDEV(MenuItem, {\n    selected: isHighlighted,\n    component: \"div\",\n    children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n      className: \"min-w-40\",\n      children: suggestion.icon ? /*#__PURE__*/_jsxDEV(Icon, {\n        children: suggestion.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-20 w-24 font-semibold uppercase text-center\",\n        children: suggestion.title[0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n      primary: parts.map((part, index) => part.highlight ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontWeight: 600\n        },\n        children: part.text\n      }, String(index), false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"strong\", {\n        style: {\n          fontWeight: 300\n        },\n        children: part.text\n      }, String(index), false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\nfunction getSuggestions(value, data) {\n  const inputValue = _.deburr(value.trim()).toLowerCase();\n\n  const inputLength = inputValue.length;\n  let count = 0;\n  return inputLength === 0 ? [] : data.filter(suggestion => {\n    const keep = count < 10 && match(suggestion.title, inputValue).length > 0;\n\n    if (keep) {\n      count += 1;\n    }\n\n    return keep;\n  });\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.title;\n}\n\nconst initialState = {\n  searchText: '',\n  search: false,\n  navigation: null,\n  suggestions: [],\n  noSuggestions: false\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'open':\n      {\n        return { ...state,\n          opened: true\n        };\n      }\n\n    case 'close':\n      {\n        return { ...state,\n          opened: false,\n          searchText: ''\n        };\n      }\n\n    case 'setSearchText':\n      {\n        return { ...state,\n          searchText: action.value\n        };\n      }\n\n    case 'setNavigation':\n      {\n        return { ...state,\n          navigation: action.value\n        };\n      }\n\n    case 'updateSuggestions':\n      {\n        const suggestions = getSuggestions(action.value, state.navigation);\n        const isInputBlank = action.value.trim() === '';\n        const noSuggestions = !isInputBlank && suggestions.length === 0;\n        return { ...state,\n          suggestions,\n          noSuggestions\n        };\n      }\n\n    case 'clearSuggestions':\n      {\n        return { ...state,\n          suggestions: [],\n          noSuggestions: false\n        };\n      }\n\n    case 'decrement':\n      {\n        return {\n          count: state.count - 1\n        };\n      }\n\n    default:\n      {\n        throw new Error();\n      }\n  }\n}\n\nfunction FuseSearch(props) {\n  const navigation = useSelector(selectFlatNavigation);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const suggestionsNode = useRef(null);\n  const popperNode = useRef(null);\n  const buttonNode = useRef(null);\n  useEffect(() => {\n    dispatch({\n      type: 'setNavigation',\n      value: navigation\n    });\n  }, [navigation]);\n\n  function showSearch(ev) {\n    ev.stopPropagation();\n    dispatch({\n      type: 'open'\n    });\n    document.addEventListener('keydown', escFunction, false);\n  }\n\n  function hideSearch() {\n    dispatch({\n      type: 'close'\n    });\n    document.removeEventListener('keydown', escFunction, false);\n  }\n\n  function escFunction(event) {\n    if (event.keyCode === 27) {\n      hideSearch();\n    }\n  }\n\n  function handleSuggestionsFetchRequested(_ref3) {\n    let {\n      value\n    } = _ref3;\n    dispatch({\n      type: 'updateSuggestions',\n      value\n    });\n  }\n\n  function handleSuggestionSelected(event, _ref4) {\n    let {\n      suggestion\n    } = _ref4;\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (!suggestion.url) {\n      return;\n    }\n\n    props.history.push(suggestion.url);\n    hideSearch();\n  }\n\n  function handleSuggestionsClearRequested() {\n    dispatch({\n      type: 'clearSuggestions'\n    });\n  }\n\n  function handleChange(event) {\n    dispatch({\n      type: 'setSearchText',\n      value: event.target.value\n    });\n  }\n\n  function handleClickAway(event) {\n    return state.opened && (!suggestionsNode.current || !suggestionsNode.current.contains(event.target)) && hideSearch();\n  }\n\n  const autosuggestProps = {\n    renderInputComponent,\n    highlightFirstSuggestion: true,\n    suggestions: state.suggestions,\n    onSuggestionsFetchRequested: handleSuggestionsFetchRequested,\n    onSuggestionsClearRequested: handleSuggestionsClearRequested,\n    onSuggestionSelected: handleSuggestionSelected,\n    getSuggestionValue,\n    renderSuggestion\n  };\n\n  switch (props.variant) {\n    case 'basic':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx('flex items-center w-full', props.className),\n          ref: popperNode,\n          children: /*#__PURE__*/_jsxDEV(Autosuggest, { ...autosuggestProps,\n            inputProps: {\n              variant: props.variant,\n              placeholder: props.placeholder,\n              value: state.searchText,\n              onChange: handleChange,\n              onFocus: showSearch,\n              InputLabelProps: {\n                shrink: true\n              },\n              autoFocus: false\n            },\n            theme: {\n              container: 'flex flex-1 w-full',\n              suggestionsList: 'FuseSearch-suggestionsList',\n              suggestion: 'FuseSearch-suggestion'\n            },\n            renderSuggestionsContainer: options => /*#__PURE__*/_jsxDEV(Popper, {\n              anchorEl: popperNode.current,\n              open: Boolean(options.children) || state.noSuggestions,\n              popperOptions: {\n                positionFixed: true\n              },\n              className: \"z-9999\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: suggestionsNode,\n                children: /*#__PURE__*/_jsxDEV(Paper, {\n                  className: \"shadow-lg rounded-8 overflow-hidden\",\n                  ...options.containerProps,\n                  style: {\n                    width: popperNode.current ? popperNode.current.clientWidth : null\n                  },\n                  children: [options.children, state.noSuggestions && /*#__PURE__*/_jsxDEV(Typography, {\n                    className: \"px-16 py-12\",\n                    children: props.noResults\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 9\n        }, this);\n      }\n\n    case 'full':\n      {\n        return /*#__PURE__*/_jsxDEV(Root, {\n          className: clsx('flex', props.className),\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Click to search\",\n            placement: \"bottom\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: showSearch,\n              onKeyDown: showSearch,\n              role: \"button\",\n              tabIndex: 0,\n              ref: buttonNode,\n              children: props.trigger\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 11\n          }, this), state.opened && /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n            onClickAway: handleClickAway,\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              className: \"absolute left-0 right-0 top-0 h-full z-9999 shadow-0\",\n              square: true,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center w-full h-full\",\n                ref: popperNode,\n                children: [/*#__PURE__*/_jsxDEV(Autosuggest, { ...autosuggestProps,\n                  inputProps: {\n                    placeholder: props.placeholder,\n                    value: state.searchText,\n                    onChange: handleChange,\n                    InputLabelProps: {\n                      shrink: true\n                    },\n                    autoFocus: true\n                  },\n                  theme: {\n                    container: 'flex flex-1 w-full',\n                    suggestionsList: 'FuseSearch-suggestionsList',\n                    suggestion: 'FuseSearch-suggestion'\n                  },\n                  renderSuggestionsContainer: options => /*#__PURE__*/_jsxDEV(Popper, {\n                    anchorEl: popperNode.current,\n                    open: Boolean(options.children) || state.noSuggestions,\n                    popperOptions: {\n                      positionFixed: true\n                    },\n                    className: \"z-9999\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      ref: suggestionsNode,\n                      children: /*#__PURE__*/_jsxDEV(Paper, {\n                        className: \"shadow-lg\",\n                        square: true,\n                        ...options.containerProps,\n                        style: {\n                          width: popperNode.current ? popperNode.current.clientWidth : null\n                        },\n                        children: [options.children, state.noSuggestions && /*#__PURE__*/_jsxDEV(Typography, {\n                          className: \"px-16 py-12\",\n                          children: props.noResults\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 406,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 396,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: hideSearch,\n                  className: \"mx-8\",\n                  size: \"large\",\n                  children: /*#__PURE__*/_jsxDEV(Icon, {\n                    children: \"close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 9\n        }, this);\n      }\n\n    default:\n      {\n        return null;\n      }\n  }\n}\n\nFuseSearch.propTypes = {};\nFuseSearch.defaultProps = {\n  trigger: /*#__PURE__*/_jsxDEV(IconButton, {\n    className: \"w-40 h-40\",\n    size: \"large\",\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      children: \"search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 432,\n    columnNumber: 5\n  }, this),\n  variant: 'full',\n  placeholder: 'Search',\n  noResults: 'No results..'\n};\nexport default withRouter( /*#__PURE__*/memo(FuseSearch));","map":{"version":3,"sources":["/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/src/@fuse/core/FuseSearch/FuseSearch.js"],"names":["ClickAwayListener","styled","Icon","IconButton","ListItemIcon","ListItemText","MenuItem","Paper","Popper","TextField","Tooltip","Typography","match","parse","clsx","_","memo","useEffect","useReducer","useRef","Autosuggest","useSelector","withRouter","selectFlatNavigation","Root","theme","position","zIndex","marginTop","spacing","left","right","display","margin","padding","listStyleType","transition","transitions","create","easing","easeInOut","duration","short","backgroundColor","palette","background","paper","renderInputComponent","inputProps","variant","inputRef","ref","other","node","classes","input","notchedOutline","disableUnderline","renderSuggestion","suggestion","query","isHighlighted","matches","title","parts","icon","map","part","index","highlight","fontWeight","text","String","getSuggestions","value","data","inputValue","deburr","trim","toLowerCase","inputLength","length","count","filter","keep","getSuggestionValue","initialState","searchText","search","navigation","suggestions","noSuggestions","reducer","state","action","type","opened","isInputBlank","Error","FuseSearch","props","dispatch","suggestionsNode","popperNode","buttonNode","showSearch","ev","stopPropagation","document","addEventListener","escFunction","hideSearch","removeEventListener","event","keyCode","handleSuggestionsFetchRequested","handleSuggestionSelected","preventDefault","url","history","push","handleSuggestionsClearRequested","handleChange","target","handleClickAway","current","contains","autosuggestProps","highlightFirstSuggestion","onSuggestionsFetchRequested","onSuggestionsClearRequested","onSuggestionSelected","className","placeholder","onChange","onFocus","InputLabelProps","shrink","autoFocus","container","suggestionsList","options","Boolean","children","positionFixed","containerProps","width","clientWidth","noResults","trigger","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import ClickAwayListener from '@mui/material/ClickAwayListener';\nimport { styled } from '@mui/material/styles';\nimport Icon from '@mui/material/Icon';\nimport IconButton from '@mui/material/IconButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport MenuItem from '@mui/material/MenuItem';\nimport Paper from '@mui/material/Paper';\nimport Popper from '@mui/material/Popper';\nimport TextField from '@mui/material/TextField';\nimport Tooltip from '@mui/material/Tooltip';\nimport Typography from '@mui/material/Typography';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport { memo, useEffect, useReducer, useRef } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport { useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { selectFlatNavigation } from 'app/store/fuse/navigationSlice';\n\nconst Root = styled('div')(({ theme }) => ({\n  '& .FuseSearch-container': {\n    position: 'relative',\n  },\n\n  '& .FuseSearch-suggestionsContainerOpen': {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing(),\n    left: 0,\n    right: 0,\n  },\n\n  '& .FuseSearch-suggestion': {\n    display: 'block',\n  },\n\n  '& .FuseSearch-suggestionsList': {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none',\n  },\n\n  '& .FuseSearch-input': {\n    transition: theme.transitions.create(['background-color'], {\n      easing: theme.transitions.easing.easeInOut,\n      duration: theme.transitions.duration.short,\n    }),\n    '&:focus': {\n      backgroundColor: theme.palette.background.paper,\n    },\n  },\n}));\n\nfunction renderInputComponent(inputProps) {\n  const { variant, inputRef = () => {}, ref, ...other } = inputProps;\n  return (\n    <div className=\"w-full relative\">\n      {variant === 'basic' ? (\n        // Outlined\n        <>\n          <TextField\n            fullWidth\n            InputProps={{\n              inputRef: (node) => {\n                ref(node);\n                inputRef(node);\n              },\n              classes: {\n                input: 'FuseSearch-input py-0 px-16 h-40 md:h-48 ltr:pr-48 rtl:pl-48',\n                notchedOutline: 'rounded-8',\n              },\n            }}\n            variant=\"outlined\"\n            {...other}\n          />\n          <Icon\n            className=\"absolute top-0 ltr:right-0 rtl:left-0 h-40 md:h-48 w-48 p-12 pointer-events-none\"\n            color=\"action\"\n          >\n            search\n          </Icon>\n        </>\n      ) : (\n        // Standard\n        <TextField\n          fullWidth\n          InputProps={{\n            disableUnderline: true,\n            inputRef: (node) => {\n              ref(node);\n              inputRef(node);\n            },\n            classes: {\n              input: 'FuseSearch-input py-0 px-16 h-48 md:h-64',\n            },\n          }}\n          variant=\"standard\"\n          {...other}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\n  const matches = match(suggestion.title, query);\n  const parts = parse(suggestion.title, matches);\n\n  return (\n    <MenuItem selected={isHighlighted} component=\"div\">\n      <ListItemIcon className=\"min-w-40\">\n        {suggestion.icon ? (\n          <Icon>{suggestion.icon}</Icon>\n        ) : (\n          <span className=\"text-20 w-24 font-semibold uppercase text-center\">\n            {suggestion.title[0]}\n          </span>\n        )}\n      </ListItemIcon>\n      <ListItemText\n        primary={parts.map((part, index) =>\n          part.highlight ? (\n            <span key={String(index)} style={{ fontWeight: 600 }}>\n              {part.text}\n            </span>\n          ) : (\n            <strong key={String(index)} style={{ fontWeight: 300 }}>\n              {part.text}\n            </strong>\n          )\n        )}\n      />\n    </MenuItem>\n  );\n}\n\nfunction getSuggestions(value, data) {\n  const inputValue = _.deburr(value.trim()).toLowerCase();\n  const inputLength = inputValue.length;\n  let count = 0;\n\n  return inputLength === 0\n    ? []\n    : data.filter((suggestion) => {\n        const keep = count < 10 && match(suggestion.title, inputValue).length > 0;\n\n        if (keep) {\n          count += 1;\n        }\n\n        return keep;\n      });\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.title;\n}\n\nconst initialState = {\n  searchText: '',\n  search: false,\n  navigation: null,\n  suggestions: [],\n  noSuggestions: false,\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'open': {\n      return {\n        ...state,\n        opened: true,\n      };\n    }\n    case 'close': {\n      return {\n        ...state,\n        opened: false,\n        searchText: '',\n      };\n    }\n    case 'setSearchText': {\n      return {\n        ...state,\n        searchText: action.value,\n      };\n    }\n    case 'setNavigation': {\n      return {\n        ...state,\n        navigation: action.value,\n      };\n    }\n    case 'updateSuggestions': {\n      const suggestions = getSuggestions(action.value, state.navigation);\n      const isInputBlank = action.value.trim() === '';\n      const noSuggestions = !isInputBlank && suggestions.length === 0;\n\n      return {\n        ...state,\n        suggestions,\n        noSuggestions,\n      };\n    }\n    case 'clearSuggestions': {\n      return {\n        ...state,\n        suggestions: [],\n        noSuggestions: false,\n      };\n    }\n    case 'decrement': {\n      return { count: state.count - 1 };\n    }\n    default: {\n      throw new Error();\n    }\n  }\n}\n\nfunction FuseSearch(props) {\n  const navigation = useSelector(selectFlatNavigation);\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const suggestionsNode = useRef(null);\n  const popperNode = useRef(null);\n  const buttonNode = useRef(null);\n\n  useEffect(() => {\n    dispatch({\n      type: 'setNavigation',\n      value: navigation,\n    });\n  }, [navigation]);\n\n  function showSearch(ev) {\n    ev.stopPropagation();\n    dispatch({ type: 'open' });\n    document.addEventListener('keydown', escFunction, false);\n  }\n\n  function hideSearch() {\n    dispatch({ type: 'close' });\n    document.removeEventListener('keydown', escFunction, false);\n  }\n\n  function escFunction(event) {\n    if (event.keyCode === 27) {\n      hideSearch();\n    }\n  }\n\n  function handleSuggestionsFetchRequested({ value }) {\n    dispatch({\n      type: 'updateSuggestions',\n      value,\n    });\n  }\n\n  function handleSuggestionSelected(event, { suggestion }) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (!suggestion.url) {\n      return;\n    }\n    props.history.push(suggestion.url);\n    hideSearch();\n  }\n\n  function handleSuggestionsClearRequested() {\n    dispatch({\n      type: 'clearSuggestions',\n    });\n  }\n\n  function handleChange(event) {\n    dispatch({\n      type: 'setSearchText',\n      value: event.target.value,\n    });\n  }\n\n  function handleClickAway(event) {\n    return (\n      state.opened &&\n      (!suggestionsNode.current || !suggestionsNode.current.contains(event.target)) &&\n      hideSearch()\n    );\n  }\n\n  const autosuggestProps = {\n    renderInputComponent,\n    highlightFirstSuggestion: true,\n    suggestions: state.suggestions,\n    onSuggestionsFetchRequested: handleSuggestionsFetchRequested,\n    onSuggestionsClearRequested: handleSuggestionsClearRequested,\n    onSuggestionSelected: handleSuggestionSelected,\n    getSuggestionValue,\n    renderSuggestion,\n  };\n\n  switch (props.variant) {\n    case 'basic': {\n      return (\n        <div className={clsx('flex items-center w-full', props.className)} ref={popperNode}>\n          <Autosuggest\n            {...autosuggestProps}\n            inputProps={{\n              variant: props.variant,\n              placeholder: props.placeholder,\n              value: state.searchText,\n              onChange: handleChange,\n              onFocus: showSearch,\n              InputLabelProps: {\n                shrink: true,\n              },\n              autoFocus: false,\n            }}\n            theme={{\n              container: 'flex flex-1 w-full',\n              suggestionsList: 'FuseSearch-suggestionsList',\n              suggestion: 'FuseSearch-suggestion',\n            }}\n            renderSuggestionsContainer={(options) => (\n              <Popper\n                anchorEl={popperNode.current}\n                open={Boolean(options.children) || state.noSuggestions}\n                popperOptions={{ positionFixed: true }}\n                className=\"z-9999\"\n              >\n                <div ref={suggestionsNode}>\n                  <Paper\n                    className=\"shadow-lg rounded-8 overflow-hidden\"\n                    {...options.containerProps}\n                    style={{ width: popperNode.current ? popperNode.current.clientWidth : null }}\n                  >\n                    {options.children}\n                    {state.noSuggestions && (\n                      <Typography className=\"px-16 py-12\">{props.noResults}</Typography>\n                    )}\n                  </Paper>\n                </div>\n              </Popper>\n            )}\n          />\n        </div>\n      );\n    }\n    case 'full': {\n      return (\n        <Root className={clsx('flex', props.className)}>\n          <Tooltip title=\"Click to search\" placement=\"bottom\">\n            <div\n              onClick={showSearch}\n              onKeyDown={showSearch}\n              role=\"button\"\n              tabIndex={0}\n              ref={buttonNode}\n            >\n              {props.trigger}\n            </div>\n          </Tooltip>\n\n          {state.opened && (\n            <ClickAwayListener onClickAway={handleClickAway}>\n              <Paper className=\"absolute left-0 right-0 top-0 h-full z-9999 shadow-0\" square>\n                <div className=\"flex items-center w-full h-full\" ref={popperNode}>\n                  <Autosuggest\n                    {...autosuggestProps}\n                    inputProps={{\n                      placeholder: props.placeholder,\n                      value: state.searchText,\n                      onChange: handleChange,\n                      InputLabelProps: {\n                        shrink: true,\n                      },\n                      autoFocus: true,\n                    }}\n                    theme={{\n                      container: 'flex flex-1 w-full',\n                      suggestionsList: 'FuseSearch-suggestionsList',\n                      suggestion: 'FuseSearch-suggestion',\n                    }}\n                    renderSuggestionsContainer={(options) => (\n                      <Popper\n                        anchorEl={popperNode.current}\n                        open={Boolean(options.children) || state.noSuggestions}\n                        popperOptions={{ positionFixed: true }}\n                        className=\"z-9999\"\n                      >\n                        <div ref={suggestionsNode}>\n                          <Paper\n                            className=\"shadow-lg\"\n                            square\n                            {...options.containerProps}\n                            style={{\n                              width: popperNode.current ? popperNode.current.clientWidth : null,\n                            }}\n                          >\n                            {options.children}\n                            {state.noSuggestions && (\n                              <Typography className=\"px-16 py-12\">{props.noResults}</Typography>\n                            )}\n                          </Paper>\n                        </div>\n                      </Popper>\n                    )}\n                  />\n                  <IconButton onClick={hideSearch} className=\"mx-8\" size=\"large\">\n                    <Icon>close</Icon>\n                  </IconButton>\n                </div>\n              </Paper>\n            </ClickAwayListener>\n          )}\n        </Root>\n      );\n    }\n    default: {\n      return null;\n    }\n  }\n}\n\nFuseSearch.propTypes = {};\nFuseSearch.defaultProps = {\n  trigger: (\n    <IconButton className=\"w-40 h-40\" size=\"large\">\n      <Icon>search</Icon>\n    </IconButton>\n  ),\n  variant: 'full',\n  placeholder: 'Search',\n  noResults: 'No results..',\n};\n\nexport default withRouter(memo(FuseSearch));\n"]},"metadata":{},"sourceType":"module"}