{"ast":null,"code":"import { createSelector, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\nimport navigationConfig from 'app/fuse-configs/navigationConfig';\nimport FuseUtils from '@fuse/utils';\nimport i18next from 'i18next';\nimport _ from '@lodash';\nconst navigationAdapter = createEntityAdapter();\nconst emptyInitialState = navigationAdapter.getInitialState();\nconst initialState = navigationAdapter.upsertMany(emptyInitialState, navigationConfig);\nexport const appendNavigationItem = (item, parentId) => (dispatch, getState) => {\n  const navigation = selectNavigationAll(getState());\n  return dispatch(setNavigation(FuseUtils.appendNavItem(navigation, item, parentId)));\n};\nexport const prependNavigationItem = (item, parentId) => (dispatch, getState) => {\n  const navigation = selectNavigationAll(getState());\n  return dispatch(setNavigation(FuseUtils.prependNavItem(navigation, item, parentId)));\n};\nexport const updateNavigationItem = (id, item) => (dispatch, getState) => {\n  const navigation = selectNavigationAll(getState());\n  return dispatch(setNavigation(FuseUtils.updateNavItem(navigation, id, item)));\n};\nexport const removeNavigationItem = id => (dispatch, getState) => {\n  const navigation = selectNavigationAll(getState());\n  return dispatch(setNavigation(FuseUtils.removeNavItem(navigation, id)));\n};\nexport const {\n  selectAll: selectNavigationAll,\n  selectIds: selectNavigationIds,\n  selectById: selectNavigationItemById\n} = navigationAdapter.getSelectors(state => state.fuse.navigation);\nconst navigationSlice = createSlice({\n  name: 'navigation',\n  initialState,\n  reducers: {\n    setNavigation: navigationAdapter.setAll,\n    resetNavigation: (state, action) => initialState\n  }\n});\nexport const {\n  setNavigation,\n  resetNavigation\n} = navigationSlice.actions;\n\nconst getUserRole = state => state.auth.user.role;\n\nexport const selectNavigation = createSelector([selectNavigationAll, _ref => {\n  let {\n    i18n\n  } = _ref;\n  return i18n.language;\n}, getUserRole], (navigation, language, userRole) => {\n  function setTranslationValues(data) {\n    // loop through every object in the array\n    return data.map(item => {\n      if (item.translate && item.title) {\n        item.title = i18next.t(`navigation:${item.translate}`);\n      } // see if there is a children node\n\n\n      if (item.children) {\n        // run this function recursively on the children array\n        item.children = setTranslationValues(item.children);\n      }\n\n      return item;\n    });\n  }\n\n  return setTranslationValues(_.merge([], FuseUtils.filterRecursive(navigation, item => FuseUtils.hasPermission(item.auth, userRole))));\n});\nexport const selectFlatNavigation = createSelector([selectNavigation], navigation => FuseUtils.getFlatNavigation(navigation));\nexport default navigationSlice.reducer;","map":{"version":3,"sources":["/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/src/app/store/fuse/navigationSlice.js"],"names":["createSelector","createEntityAdapter","createSlice","navigationConfig","FuseUtils","i18next","_","navigationAdapter","emptyInitialState","getInitialState","initialState","upsertMany","appendNavigationItem","item","parentId","dispatch","getState","navigation","selectNavigationAll","setNavigation","appendNavItem","prependNavigationItem","prependNavItem","updateNavigationItem","id","updateNavItem","removeNavigationItem","removeNavItem","selectAll","selectIds","selectNavigationIds","selectById","selectNavigationItemById","getSelectors","state","fuse","navigationSlice","name","reducers","setAll","resetNavigation","action","actions","getUserRole","auth","user","role","selectNavigation","i18n","language","userRole","setTranslationValues","data","map","translate","title","t","children","merge","filterRecursive","hasPermission","selectFlatNavigation","getFlatNavigation","reducer"],"mappings":"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","sourcesContent":["import { createSelector, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\nimport navigationConfig from 'app/fuse-configs/navigationConfig';\nimport FuseUtils from '@fuse/utils';\nimport i18next from 'i18next';\nimport _ from '@lodash';\n\nconst navigationAdapter = createEntityAdapter();\nconst emptyInitialState = navigationAdapter.getInitialState();\nconst initialState = navigationAdapter.upsertMany(emptyInitialState, navigationConfig);\n\nexport const appendNavigationItem = (item, parentId) => (dispatch, getState) => {\n  const navigation = selectNavigationAll(getState());\n\n  return dispatch(setNavigation(FuseUtils.appendNavItem(navigation, item, parentId)));\n};\n\nexport const prependNavigationItem = (item, parentId) => (dispatch, getState) => {\n  const navigation = selectNavigationAll(getState());\n\n  return dispatch(setNavigation(FuseUtils.prependNavItem(navigation, item, parentId)));\n};\n\nexport const updateNavigationItem = (id, item) => (dispatch, getState) => {\n  const navigation = selectNavigationAll(getState());\n\n  return dispatch(setNavigation(FuseUtils.updateNavItem(navigation, id, item)));\n};\n\nexport const removeNavigationItem = (id) => (dispatch, getState) => {\n  const navigation = selectNavigationAll(getState());\n\n  return dispatch(setNavigation(FuseUtils.removeNavItem(navigation, id)));\n};\n\nexport const {\n  selectAll: selectNavigationAll,\n  selectIds: selectNavigationIds,\n  selectById: selectNavigationItemById,\n} = navigationAdapter.getSelectors((state) => state.fuse.navigation);\n\nconst navigationSlice = createSlice({\n  name: 'navigation',\n  initialState,\n  reducers: {\n    setNavigation: navigationAdapter.setAll,\n    resetNavigation: (state, action) => initialState,\n  },\n});\n\nexport const { setNavigation, resetNavigation } = navigationSlice.actions;\n\nconst getUserRole = (state) => state.auth.user.role;\n\nexport const selectNavigation = createSelector(\n  [selectNavigationAll, ({ i18n }) => i18n.language, getUserRole],\n  (navigation, language, userRole) => {\n    function setTranslationValues(data) {\n      // loop through every object in the array\n      return data.map((item) => {\n        if (item.translate && item.title) {\n          item.title = i18next.t(`navigation:${item.translate}`);\n        }\n\n        // see if there is a children node\n        if (item.children) {\n          // run this function recursively on the children array\n          item.children = setTranslationValues(item.children);\n        }\n        return item;\n      });\n    }\n\n    return setTranslationValues(\n      _.merge(\n        [],\n        FuseUtils.filterRecursive(navigation, (item) =>\n          FuseUtils.hasPermission(item.auth, userRole)\n        )\n      )\n    );\n  }\n);\n\nexport const selectFlatNavigation = createSelector([selectNavigation], (navigation) =>\n  FuseUtils.getFlatNavigation(navigation)\n);\n\nexport default navigationSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}