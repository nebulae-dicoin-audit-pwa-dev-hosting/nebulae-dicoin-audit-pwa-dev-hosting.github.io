{"ast":null,"code":"import{Typography,Button,TextField,Icon,InputAdornment}from'@mui/material';import{useTranslation}from'react-i18next';import{makeStyles}from'@mui/styles';import{useSnackbar}from'notistack';import ProxyService from'../../../services/proxy-service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({titles:{paddingLeft:'8px'},inputNumber:{'& input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button':{'-webkit-appearance':'none',margin:'0'},'& input[type=number]':{'-moz-appearance':'textfield'}}});export default function WsRest(props){var endPoint=props.endPoint,setEndPoint=props.setEndPoint,user=props.user,setUser=props.setUser,password=props.password,setPassword=props.setPassword,resultTestConnection=props.resultTestConnection,setResultTestConnection=props.setResultTestConnection,numberOfAttemps=props.numberOfAttemps,setNumberOfAttemps=props.setNumberOfAttemps,waitTimeBetweenRetries=props.waitTimeBetweenRetries,setWaitTimeBetweenRetries=props.setWaitTimeBetweenRetries,timeout=props.timeout,seTimeout=props.seTimeout,validateUrl=props.validateUrl,validateString=props.validateString,validateNumber=props.validateNumber,valueFocusCleaner=props.valueFocusCleaner;var _useTranslation=useTranslation('settingPage'),t=_useTranslation.t;var classes=useStyles();var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;function handleEndPointChange(event){setEndPoint(event.target.value);}function handleUserChange(event){setUser(event.target.value);}function handlePasswordChange(event){setPassword(event.target.value);}function handleNumberOfAttemps(event){setNumberOfAttemps(parseInt(event.target.value,10));}function handleWaitTimeBetweenRetries(event){setWaitTimeBetweenRetries(parseInt(event.target.value,10));}function handleTimeout(event){seTimeout(parseInt(event.target.value,10));}var handleTestConnection=function handleTestConnection(){ProxyService.test(endPoint,user,password,timeout).then(function(_ref){var data=_ref.data;var success=data&&data.statusDTO&&data.statusDTO.descripcion==='Ocurrió un error cargando el archivo.';console.log({success:success});if(success){enqueueSnackbar('Conexión Exitosa',{variant:'success'});}else{enqueueSnackbar(\"Conexi\\xF3n Errada: codigo:\".concat(data.statusDTO.codigo,\", descripcion:\").concat(data.statusDTO.descripcion),{variant:'error'});}}).catch(function(error){console.log({success:false,error:error});console.error(error);enqueueSnackbar(\"Conexi\\xF3n Errada: \".concat(error.message),{variant:'error'});});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Typography,{children:t('PARAMETER_TEXT')})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsxs(Typography,{children:[t('ENDPOINT'),\": \"]})}),/*#__PURE__*/_jsx(TextField,{className:\"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\",id:\"endPoint\",error:validateUrl(endPoint)!==null,helperText:validateUrl(endPoint),value:endPoint,onChange:handleEndPointChange}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsxs(Typography,{children:[t('USER'),\": \"]})}),/*#__PURE__*/_jsx(TextField,{className:\"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\",id:\"user\",error:validateString(user,0,200)!==null,helperText:validateString(user,0,200),value:user,onChange:handleUserChange,onBlur:function onBlur(evt){evt.target.value=valueFocusCleaner(evt.target.value);handleUserChange(evt);}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsxs(Typography,{children:[t('PASSWORD'),\": \"]})}),/*#__PURE__*/_jsx(TextField,{className:\"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\",id:\"password\",error:validateString(password,0,200)!==null,helperText:validateString(password,0,200),value:password,type:\"password\",onChange:handlePasswordChange,onBlur:function onBlur(evt){evt.target.value=valueFocusCleaner(evt.target.value);handlePasswordChange(evt);}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(Typography,{className:\"leading-none mb-10\",children:/*#__PURE__*/_jsxs(\"b\",{children:[t('REST_SETTINGS'),\":\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full sm:w-1/2 flex pr-0 sm:pr-10 items-center \".concat(classes.inputNumber,\" justify-between\"),children:[/*#__PURE__*/_jsx(Typography,{className:\"w-full\",children:t('TIMEOUT')}),/*#__PURE__*/_jsx(TextField,{id:\"timeout\",error:validateNumber(timeout,0,600000)!==null,helperText:validateNumber(timeout,0,600000),sx:{m:1,width:'30ch'},type:\"number\",value:timeout,onChange:handleTimeout,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:\"milisegundos\"})}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full sm:w-1/2 flex pl-0 sm:pl-10 items-center \".concat(classes.inputNumber,\" justify-between\"),children:[/*#__PURE__*/_jsx(Typography,{className:\"w-full\",children:t('NUMBER_OF_ATTEMPS')}),/*#__PURE__*/_jsx(TextField,{id:\"numberOfAttemps\",error:validateNumber(numberOfAttemps,0,100)!==null,helperText:validateNumber(numberOfAttemps,0,100),sx:{m:1,width:'30ch'},type:\"number\",value:numberOfAttemps,onChange:handleNumberOfAttemps,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:\"intentos\"})}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full sm:w-1/2 flex pr-0 sm:pr-10 items-center \".concat(classes.inputNumber,\" justify-between\"),children:[/*#__PURE__*/_jsx(Typography,{className:\"w-full\",children:t('WAIT_TIME_BETWEEN_RETRIES')}),/*#__PURE__*/_jsx(TextField,{id:\"waitTimeBetweenRetries\",error:validateNumber(waitTimeBetweenRetries,0,60000)!==null,helperText:validateNumber(waitTimeBetweenRetries,0,60000),sx:{m:1,width:'30ch'},type:\"number\",value:waitTimeBetweenRetries,onChange:handleWaitTimeBetweenRetries,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:\"milisegundos\"})}})]}),/*#__PURE__*/_jsx(Button,{className:\"w-full\",variant:\"contained\",disabled:validateString(password,0,200)||validateString(user,0,200)||validateUrl(endPoint)||validateNumber(timeout,0,600000),onClick:handleTestConnection,children:t('TEST_CONNECTION')})]}),/*#__PURE__*/_jsx(\"br\",{}),resultTestConnection===200?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Icon,{fontSize:\"large\",children:\"check_circle_sharp_icon\"}),' ',/*#__PURE__*/_jsx(Typography,{children:t('CONNECTION_SUCCES')})]}):resultTestConnection!==200&&resultTestConnection!==0?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Icon,{fontSize:\"large\",children:\"cancel\"}),\" \",/*#__PURE__*/_jsx(Typography,{children:t('CONNECTION_FAILED')})]}):null]});}","map":null,"metadata":{},"sourceType":"module"}