{"ast":null,"code":"import _objectSpread from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useDeepCompareEffect}from'@fuse/hooks';import FuseLayouts from'@fuse/layouts/FuseLayouts';import _ from'@lodash';import AppContext from'app/AppContext';import{generateSettings,setSettings}from'app/store/fuse/settingsSlice';import{memo,useContext,useMemo,useCallback,useRef}from'react';import{useDispatch,useSelector}from'react-redux';import{matchRoutes}from'react-router-config';import{useLocation}from'react-router-dom';import GlobalStyles from'@mui/material/GlobalStyles';import{alpha}from'@mui/material/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var inputGlobalStyles=/*#__PURE__*/_jsx(GlobalStyles,{styles:function styles(theme){return{html:{backgroundColor:\"\".concat(theme.palette.background.default,\"!important\"),color:\"\".concat(theme.palette.text.primary,\"!important\")},body:{backgroundColor:theme.palette.background.default,color:theme.palette.text.primary},'code:not([class*=\"language-\"])':{color:theme.palette.secondary.dark,backgroundColor:theme.palette.mode==='light'?'rgba(255, 255, 255, .9)':'rgba(0, 0, 0, .9)',padding:'2px 3px',borderRadius:2,lineHeight:1.7},'table.simple tbody tr td':{borderColor:theme.palette.divider},'table.simple thead tr th':{borderColor:theme.palette.divider},'a:not([role=button]):not(.MuiButtonBase-root)':{color:theme.palette.secondary.main,textDecoration:'underline','&:hover':{}},'a.link, a:not([role=button])[target=_blank]':{background:alpha(theme.palette.secondary.main,0.2),color:'inherit',borderBottom:\"1px solid \".concat(theme.palette.divider),textDecoration:'none','&:hover':{background:alpha(theme.palette.secondary.main,0.3),textDecoration:'none'}},'[class^=\"border-\"]':{borderColor:theme.palette.divider},'[class*=\"border-\"]':{borderColor:theme.palette.divider},hr:{borderColor:theme.palette.divider},'::-webkit-scrollbar-thumb':{boxShadow:\"inset 0 0 0 20px \".concat(theme.palette.mode==='light'?'rgba(0, 0, 0, 0.24)':'rgba(255, 255, 255, 0.24)')},'::-webkit-scrollbar-thumb:active':{boxShadow:\"inset 0 0 0 20px \".concat(theme.palette.mode==='light'?'rgba(0, 0, 0, 0.37)':'rgba(255, 255, 255, 0.37)')}};}});function FuseLayout(props){var dispatch=useDispatch();var settings=useSelector(function(_ref){var fuse=_ref.fuse;return fuse.settings.current;});var defaultSettings=useSelector(function(_ref2){var fuse=_ref2.fuse;return fuse.settings.defaults;});var appContext=useContext(AppContext);var routes=appContext.routes;var location=useLocation();var pathname=location.pathname;var matched=matchRoutes(routes,pathname)[0];var newSettings=useRef(null);var shouldAwaitRender=useCallback(function(){var _newSettings;/**\n     * On Path changed\n     */ // if (prevPathname !== pathname) {\nif(matched&&matched.route.settings){/**\n       * if matched route has settings\n       */var routeSettings=matched.route.settings;_newSettings=generateSettings(defaultSettings,routeSettings);}else if(!_.isEqual(newSettings.current,defaultSettings)){/**\n       * Reset to default settings on the new path\n       */_newSettings=_.merge({},defaultSettings);}else{_newSettings=newSettings.current;}if(!_.isEqual(newSettings.current,_newSettings)){newSettings.current=_newSettings;}},[defaultSettings,matched]);shouldAwaitRender();useDeepCompareEffect(function(){if(!_.isEqual(newSettings.current,settings)){dispatch(setSettings(newSettings.current));}},[dispatch,newSettings.current,settings]);// console.warn('::FuseLayout:: rendered');\nvar Layout=useMemo(function(){return FuseLayouts[settings.layout.style];},[settings.layout.style]);return _.isEqual(newSettings.current,settings)?/*#__PURE__*/_jsxs(_Fragment,{children:[inputGlobalStyles,/*#__PURE__*/_jsx(Layout,_objectSpread({},props))]}):null;}export default/*#__PURE__*/memo(FuseLayout);","map":null,"metadata":{},"sourceType":"module"}