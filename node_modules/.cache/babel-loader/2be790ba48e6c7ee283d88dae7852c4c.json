{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar jquery_1 = __importDefault(require(\"jquery\")); // Create default JSON http client\n\n\nfunction default_1(method, url, params, data, success, error) {\n  // Append\n  var req;\n  var fullUrl = url + \"?\" + jquery_1.default.param(params);\n\n  if (method === \"GET\") {\n    // Use longer timeout for gets\n    req = jquery_1.default.ajax(fullUrl, {\n      dataType: \"json\",\n      timeout: 180000\n    });\n  } else if (method === \"DELETE\") {\n    // Add timeout to prevent hung update requests\n    req = jquery_1.default.ajax(fullUrl, {\n      type: \"DELETE\",\n      timeout: 60000\n    });\n  } else if (method === \"POST\" || method === \"PATCH\") {\n    req = jquery_1.default.ajax(fullUrl, {\n      data: JSON.stringify(data),\n      contentType: \"application/json\",\n      // Add timeout to prevent hung update requests\n      timeout: 60000,\n      type: method\n    });\n  } else {\n    throw new Error(\"Unknown method \".concat(method));\n  }\n\n  req.done(function (response, textStatus, jqXHR) {\n    return success(response || null);\n  });\n  return req.fail(function (jqXHR, textStatus, errorThrown) {\n    if (error) {\n      return error(jqXHR);\n    }\n  });\n}\n\nexports.default = default_1;","map":null,"metadata":{},"sourceType":"script"}