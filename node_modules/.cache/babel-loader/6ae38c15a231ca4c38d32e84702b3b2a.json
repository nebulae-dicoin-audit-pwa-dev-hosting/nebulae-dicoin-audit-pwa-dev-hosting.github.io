{"ast":null,"code":"import _slicedToArray from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext}from'react';import{useTranslation}from'react-i18next';import{motion}from'framer-motion';import{Icon,Typography,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Button}from'@mui/material';import{makeStyles}from'@mui/styles';import DialogStatistics from'./dialogs/DialogStatistics';import DialogRecordDetail from'./dialogs/DialogRecordDetail';import AnalysisContext from'./Analysis-context/AnalysisContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({tableExecution:{'& th':{padding:'0',position:'relative'},'& td':{padding:'0',position:'relative'}},tableIcon:{position:'relative','& span':{position:'absolute',left:'0px',fontSize:'26px',top:'-1px'},'& p':{marginTop:'14px',marginLeft:'14px',fontSize:'1rem'}},check:{color:'#66bb6a'},error:{color:'#f44336'},warning:{color:'#ff9a00'},marginTopTable:{marginTop:'165px'},marginTopTableTwo:{marginTop:'85px'},/**/sheet:{touchAction:'none'},btnDark:{padding:'6px',minWidth:'auto',background:'transparent',border:'2px solid #252f3e',color:'#252f3e',borderRadius:'100%','&:hover':{color:'white'}}});var recordStates={PERSISTED:'save',SENT:'check',ERROR:'error',WARNING:'warning',NOTE:'note'};function AnalysisAppSidebarContent(props){var _useContext=useContext(AnalysisContext),appFileContent=_useContext.appFileContent;var _useTranslation=useTranslation('analysisPage'),t=_useTranslation.t;var classes=useStyles();function msToSeconds(duration){var seconds=Math.ceil(duration/1000%60);return\"\".concat(seconds);}function createData(type,seq,state,timeSent,timestamp,vel,doors,input,output,desvi){return{type:type,seq:seq,state:state,timeSent:timeSent,timestamp:timestamp,vel:vel,doors:doors,input:input,output:output,desvi:desvi};}var dopDistancePermissibleErrors=(appFileContent||[]).map(function(data){if(data.type==='RECORD'){var state=data.state,recordSeq=data.recordSeq,timestamp=data.timestamp,_data$payload=data.payload,backDoorInput=_data$payload.backDoorInput,backDoorOpen=_data$payload.backDoorOpen,backDoorOutput=_data$payload.backDoorOutput,frontDoorInput=_data$payload.frontDoorInput,frontDoorOpen=_data$payload.frontDoorOpen,frontDoorOutput=_data$payload.frontDoorOutput,speed=_data$payload.geolocationPosition.coords.speed;return createData(data.type,recordSeq,recordStates[state],state==='PERSISTED'?null:data.stats.sentTimestamp-timestamp,timestamp,speed,\"\".concat(frontDoorOpen?'DA':'DC').concat(backDoorOpen?'TA':'TC'),\"\".concat(frontDoorInput,\"/\").concat(backDoorInput),\"\".concat(frontDoorOutput,\"/\").concat(backDoorOutput),0.3);}return data;});var optionsDateTimeLine={hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false};// #region dialog statistics\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),openDialogStatistics=_useState2[0],setOpenDialogStatistics=_useState2[1];function handleOpenDialogStatistics(){setOpenDialogStatistics(true);}function handleCloseDialogStatistics(){setOpenDialogStatistics(false);}// #endregion\n// #region dialog statistics\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openDialogRecordDetails=_useState4[0],setOpenDialogRecordDetails=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),dataDialogDetails=_useState6[0],setDataDialogDetails=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),indexDetails=_useState8[0],setIndexDetails=_useState8[1];function handleOpenDialogRecordDetails(data,index){setOpenDialogRecordDetails(true);setDataDialogDetails(appFileContent);setIndexDetails(index);}function handleCloseDialogRecordDetails(){setOpenDialogRecordDetails(false);}// #endregion\nreturn/*#__PURE__*/_jsxs(motion.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1,transition:{delay:0.4}},className:\"flex-auto p-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-10\",children:[/*#__PURE__*/_jsx(Typography,{className:\"text-lg\",children:/*#__PURE__*/_jsx(\"b\",{children:t('ANALYSIS_CONTENT_TITLE')})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"\".concat(classes.btnDark),onClick:function onClick(){handleOpenDialogStatistics();},children:/*#__PURE__*/_jsx(Icon,{children:\"show_chart\"})})]}),/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{size:\"small\",className:\"\".concat(classes.tableExecution),children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:t('ANALYSIS_CONTENT_HOUR')}),/*#__PURE__*/_jsx(TableCell,{children:t('ANALYSIS_CONTENT_VEL')}),/*#__PURE__*/_jsx(TableCell,{children:t('ANALYSIS_CONTENT_DOORS')}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Icon,{children:\"keyboard_arrow_up\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Icon,{children:\"keyboard_arrow_down\"})}),/*#__PURE__*/_jsx(TableCell,{children:t('ANALYSIS_CONTENT_DESV')})]})}),/*#__PURE__*/_jsx(TableBody,{children:dopDistancePermissibleErrors.map(function(row,index){var numberTable=index+1;return/*#__PURE__*/_jsxs(TableRow,{hover:true,sx:{'&:last-child td, &:last-child th':{border:0}},onClick:function onClick(){handleOpenDialogRecordDetails(row,index);},children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:numberTable}),/*#__PURE__*/_jsxs(TableCell,{className:\"\".concat(row.state==='check'?classes.tableIcon:'text-center'),children:[row.state==='check'&&/*#__PURE__*/_jsx(Icon,{className:\"\".concat(classes.check),children:\"check\"}),row.state==='error'&&/*#__PURE__*/_jsx(Icon,{className:\"\".concat(classes.error),children:\"error\"}),row.state==='warning'&&/*#__PURE__*/_jsx(Icon,{className:\"\".concat(classes.warning),children:\"warning\"}),row.state==='save'&&/*#__PURE__*/_jsx(Icon,{children:\"save\"}),/*#__PURE__*/_jsxs(Typography,{children:[' ',row.timeSent!==null||row.timeSent!==undefined?\"\".concat(msToSeconds(row.timeSent),\"s\"):'']})]}),/*#__PURE__*/_jsx(TableCell,{children:new Date(row.timestamp).toLocaleString(navigator.language,optionsDateTimeLine)}),/*#__PURE__*/_jsx(TableCell,{children:row.vel}),/*#__PURE__*/_jsx(TableCell,{children:row.doors}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.input}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.output}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.desvi})]},index);})})]})}),openDialogStatistics&&/*#__PURE__*/_jsx(DialogStatistics,{open:openDialogStatistics,handleClose:handleCloseDialogStatistics}),openDialogRecordDetails&&/*#__PURE__*/_jsx(DialogRecordDetail,{open:openDialogRecordDetails,handleClose:handleCloseDialogRecordDetails,dataDialogDetails:dataDialogDetails,indexDetails:indexDetails})]});}export default AnalysisAppSidebarContent;","map":null,"metadata":{},"sourceType":"module"}