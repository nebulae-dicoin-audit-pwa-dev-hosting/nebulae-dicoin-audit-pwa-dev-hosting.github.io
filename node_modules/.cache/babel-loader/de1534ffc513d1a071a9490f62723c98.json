{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/src/app/main/settings/tabs/WsRest.js\";\nimport { Typography, Button, TextField, Icon, InputAdornment } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@mui/styles';\nimport { useSnackbar } from 'notistack';\nimport ProxyService from '../../../services/proxy-service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  titles: {\n    paddingLeft: '8px'\n  },\n  inputNumber: {\n    '& input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button': {\n      '-webkit-appearance': 'none',\n      margin: '0'\n    },\n    '& input[type=number]': {\n      '-moz-appearance': 'textfield'\n    }\n  }\n});\nexport default function WsRest(props) {\n  const {\n    endPoint,\n    setEndPoint,\n    user,\n    setUser,\n    password,\n    setPassword,\n    resultTestConnection,\n    setResultTestConnection,\n    numberOfAttemps,\n    setNumberOfAttemps,\n    waitTimeBetweenRetries,\n    setWaitTimeBetweenRetries,\n    timeout,\n    seTimeout,\n    validateUrl,\n    validateString,\n    validateNumber,\n    valueFocusCleaner\n  } = props;\n  const {\n    t\n  } = useTranslation('settingPage');\n  const classes = useStyles();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n\n  function handleEndPointChange(event) {\n    setEndPoint(event.target.value);\n  }\n\n  function handleUserChange(event) {\n    setUser(event.target.value);\n  }\n\n  function handlePasswordChange(event) {\n    setPassword(event.target.value);\n  }\n\n  function handleNumberOfAttemps(event) {\n    setNumberOfAttemps(parseInt(event.target.value, 10));\n  }\n\n  function handleWaitTimeBetweenRetries(event) {\n    setWaitTimeBetweenRetries(parseInt(event.target.value, 10));\n  }\n\n  function handleTimeout(event) {\n    seTimeout(parseInt(event.target.value, 10));\n  }\n\n  const handleTestConnection = () => {\n    ProxyService.test(endPoint, user, password, timeout).then(_ref => {\n      let {\n        data\n      } = _ref;\n      const success = data && data.statusDTO && data.statusDTO.descripcion === 'Ocurrió un error cargando el archivo.';\n      console.log({\n        success\n      });\n\n      if (success) {\n        enqueueSnackbar('Conexión Exitosa', {\n          variant: 'success'\n        });\n      } else {\n        enqueueSnackbar(`Conexión Errada: codigo:${data.statusDTO.codigo}, descripcion:${data.statusDTO.descripcion}`, {\n          variant: 'error'\n        });\n      }\n    }).catch(error => {\n      console.log({\n        success: false,\n        error\n      });\n      console.error(error);\n      enqueueSnackbar(`Conexión Errada: ${error.message}`, {\n        variant: 'error'\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: t('PARAMETER_TEXT')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex flex-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: [t('ENDPOINT'), \": \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: \"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\",\n        id: \"endPoint\",\n        error: validateUrl(endPoint) !== null,\n        helperText: validateUrl(endPoint),\n        value: endPoint,\n        onChange: handleEndPointChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: [t('USER'), \": \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: \"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\",\n        id: \"user\",\n        error: validateString(user, 0, 200) !== null,\n        helperText: validateString(user, 0, 200),\n        value: user,\n        onChange: handleUserChange,\n        onBlur: evt => {\n          evt.target.value = valueFocusCleaner(evt.target.value);\n          handleUserChange(evt);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: [t('PASSWORD'), \": \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: \"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\",\n        id: \"password\",\n        error: validateString(password, 0, 200) !== null,\n        helperText: validateString(password, 0, 200),\n        value: password,\n        type: \"password\",\n        onChange: handlePasswordChange,\n        onBlur: evt => {\n          evt.target.value = valueFocusCleaner(evt.target.value);\n          handlePasswordChange(evt);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          className: \"leading-none mb-10\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [t('REST_SETTINGS'), \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-full sm:w-1/2 flex pr-0 sm:pr-10 items-center ${classes.inputNumber} justify-between`,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: \"w-full\",\n          children: t('TIMEOUT')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"timeout\",\n          error: validateNumber(timeout, 0, 600000) !== null,\n          helperText: validateNumber(timeout, 0, 600000),\n          sx: {\n            m: 1,\n            width: '30ch'\n          },\n          type: \"number\",\n          value: timeout,\n          onChange: handleTimeout,\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              children: \"milisegundos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-full sm:w-1/2 flex pl-0 sm:pl-10 items-center ${classes.inputNumber} justify-between`,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: \"w-full\",\n          children: t('NUMBER_OF_ATTEMPS')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"numberOfAttemps\",\n          error: validateNumber(numberOfAttemps, 0, 100) !== null,\n          helperText: validateNumber(numberOfAttemps, 0, 100),\n          sx: {\n            m: 1,\n            width: '30ch'\n          },\n          type: \"number\",\n          value: numberOfAttemps,\n          onChange: handleNumberOfAttemps,\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              children: \"intentos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-full sm:w-1/2 flex pr-0 sm:pr-10 items-center ${classes.inputNumber} justify-between`,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: \"w-full\",\n          children: t('WAIT_TIME_BETWEEN_RETRIES')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"waitTimeBetweenRetries\",\n          error: validateNumber(waitTimeBetweenRetries, 0, 60000) !== null,\n          helperText: validateNumber(waitTimeBetweenRetries, 0, 60000),\n          sx: {\n            m: 1,\n            width: '30ch'\n          },\n          type: \"number\",\n          value: waitTimeBetweenRetries,\n          onChange: handleWaitTimeBetweenRetries,\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              children: \"milisegundos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 29\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"w-full\",\n        variant: \"contained\",\n        disabled: validateString(password, 0, 200) || validateString(user, 0, 200) || validateUrl(endPoint) || validateNumber(timeout, 0, 600000),\n        onClick: handleTestConnection,\n        children: t('TEST_CONNECTION')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), resultTestConnection === 200 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        fontSize: \"large\",\n        children: \"check_circle_sharp_icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), ' ', /*#__PURE__*/_jsxDEV(Typography, {\n        children: t('CONNECTION_SUCCES')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }, this) : resultTestConnection !== 200 && resultTestConnection !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        fontSize: \"large\",\n        children: \"cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Typography, {\n        children: t('CONNECTION_FAILED')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 48\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/src/app/main/settings/tabs/WsRest.js"],"names":["Typography","Button","TextField","Icon","InputAdornment","useTranslation","makeStyles","useSnackbar","ProxyService","useStyles","titles","paddingLeft","inputNumber","margin","WsRest","props","endPoint","setEndPoint","user","setUser","password","setPassword","resultTestConnection","setResultTestConnection","numberOfAttemps","setNumberOfAttemps","waitTimeBetweenRetries","setWaitTimeBetweenRetries","timeout","seTimeout","validateUrl","validateString","validateNumber","valueFocusCleaner","t","classes","enqueueSnackbar","handleEndPointChange","event","target","value","handleUserChange","handlePasswordChange","handleNumberOfAttemps","parseInt","handleWaitTimeBetweenRetries","handleTimeout","handleTestConnection","test","then","data","success","statusDTO","descripcion","console","log","variant","codigo","catch","error","message","evt","m","width","endAdornment"],"mappings":"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","sourcesContent":["import { Typography, Button, TextField, Icon, InputAdornment } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@mui/styles';\nimport { useSnackbar } from 'notistack';\nimport ProxyService from '../../../services/proxy-service';\n\nconst useStyles = makeStyles({\n  titles: {\n    paddingLeft: '8px',\n  },\n  inputNumber: {\n    '& input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button':\n      {\n        '-webkit-appearance': 'none',\n        margin: '0',\n      },\n\n    '& input[type=number]': {\n      '-moz-appearance': 'textfield',\n    },\n  },\n});\n\nexport default function WsRest(props) {\n  const {\n    endPoint,\n    setEndPoint,\n    user,\n    setUser,\n    password,\n    setPassword,\n    resultTestConnection,\n    setResultTestConnection,\n    numberOfAttemps,\n    setNumberOfAttemps,\n    waitTimeBetweenRetries,\n    setWaitTimeBetweenRetries,\n    timeout,\n    seTimeout,\n    validateUrl,\n    validateString,\n    validateNumber,\n    valueFocusCleaner,\n  } = props;\n  const { t } = useTranslation('settingPage');\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n\n  function handleEndPointChange(event) {\n    setEndPoint(event.target.value);\n  }\n\n  function handleUserChange(event) {\n    setUser(event.target.value);\n  }\n\n  function handlePasswordChange(event) {\n    setPassword(event.target.value);\n  }\n\n  function handleNumberOfAttemps(event) {\n    setNumberOfAttemps(parseInt(event.target.value, 10));\n  }\n\n  function handleWaitTimeBetweenRetries(event) {\n    setWaitTimeBetweenRetries(parseInt(event.target.value, 10));\n  }\n\n  function handleTimeout(event) {\n    seTimeout(parseInt(event.target.value, 10));\n  }\n\n  const handleTestConnection = () => {\n    ProxyService.test(endPoint, user, password, timeout)\n      .then(({ data }) => {\n        const success =\n          data &&\n          data.statusDTO &&\n          data.statusDTO.descripcion === 'Ocurrió un error cargando el archivo.';\n        console.log({ success });\n        if (success) {\n          enqueueSnackbar('Conexión Exitosa', { variant: 'success' });\n        } else {\n          enqueueSnackbar(\n            `Conexión Errada: codigo:${data.statusDTO.codigo}, descripcion:${data.statusDTO.descripcion}`,\n            { variant: 'error' }\n          );\n        }\n      })\n      .catch((error) => {\n        console.log({ success: false, error });\n        console.error(error);\n        enqueueSnackbar(`Conexión Errada: ${error.message}`, { variant: 'error' });\n      });\n  };\n\n  return (\n    <div>\n      <div>\n        <Typography>{t('PARAMETER_TEXT')}</Typography>\n      </div>\n      <br />\n      <div className=\"w-full flex flex-wrap\">\n        <div className=\"w-full\">\n          <Typography>{t('ENDPOINT')}: </Typography>\n        </div>\n        <TextField\n          className=\"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\"\n          id=\"endPoint\"\n          error={validateUrl(endPoint) !== null}\n          helperText={validateUrl(endPoint)}\n          value={endPoint}\n          onChange={handleEndPointChange}\n        />\n\n        <div className=\"w-full\">\n          <Typography>{t('USER')}: </Typography>\n        </div>\n        <TextField\n          className=\"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\"\n          id=\"user\"\n          error={validateString(user, 0, 200) !== null}\n          helperText={validateString(user, 0, 200)}\n          value={user}\n          onChange={handleUserChange}\n          onBlur={(evt) => {\n            evt.target.value = valueFocusCleaner(evt.target.value);\n            handleUserChange(evt);\n          }}\n        />\n\n        <div className=\"w-full\">\n          <Typography>{t('PASSWORD')}: </Typography>\n        </div>\n        <TextField\n          className=\"mt-8 mb-16 flex w-full sm:w-full sm:pl-3\"\n          id=\"password\"\n          error={validateString(password, 0, 200) !== null}\n          helperText={validateString(password, 0, 200)}\n          value={password}\n          type=\"password\"\n          onChange={handlePasswordChange}\n          onBlur={(evt) => {\n            evt.target.value = valueFocusCleaner(evt.target.value);\n            handlePasswordChange(evt);\n          }}\n        />\n\n        <div className=\"w-full\">\n          <Typography className=\"leading-none mb-10\">\n            <b>{t('REST_SETTINGS')}:</b>\n          </Typography>\n        </div>\n\n        <div\n          className={`w-full sm:w-1/2 flex pr-0 sm:pr-10 items-center ${classes.inputNumber} justify-between`}\n        >\n          <Typography className=\"w-full\">{t('TIMEOUT')}</Typography>\n\n          <TextField\n            id=\"timeout\"\n            error={validateNumber(timeout, 0, 600000) !== null}\n            helperText={validateNumber(timeout, 0, 600000)}\n            sx={{ m: 1, width: '30ch' }}\n            type=\"number\"\n            value={timeout}\n            onChange={handleTimeout}\n            InputProps={{\n              endAdornment: <InputAdornment position=\"end\">milisegundos</InputAdornment>,\n            }}\n          />\n        </div>\n\n        <div\n          className={`w-full sm:w-1/2 flex pl-0 sm:pl-10 items-center ${classes.inputNumber} justify-between`}\n        >\n          <Typography className=\"w-full\">{t('NUMBER_OF_ATTEMPS')}</Typography>\n\n          <TextField\n            id=\"numberOfAttemps\"\n            error={validateNumber(numberOfAttemps, 0, 100) !== null}\n            helperText={validateNumber(numberOfAttemps, 0, 100)}\n            sx={{ m: 1, width: '30ch' }}\n            type=\"number\"\n            value={numberOfAttemps}\n            onChange={handleNumberOfAttemps}\n            InputProps={{\n              endAdornment: <InputAdornment position=\"end\">intentos</InputAdornment>,\n            }}\n          />\n        </div>\n\n        <div\n          className={`w-full sm:w-1/2 flex pr-0 sm:pr-10 items-center ${classes.inputNumber} justify-between`}\n        >\n          <Typography className=\"w-full\">{t('WAIT_TIME_BETWEEN_RETRIES')}</Typography>\n\n          <TextField\n            id=\"waitTimeBetweenRetries\"\n            error={validateNumber(waitTimeBetweenRetries, 0, 60000) !== null}\n            helperText={validateNumber(waitTimeBetweenRetries, 0, 60000)}\n            sx={{ m: 1, width: '30ch' }}\n            type=\"number\"\n            value={waitTimeBetweenRetries}\n            onChange={handleWaitTimeBetweenRetries}\n            InputProps={{\n              endAdornment: <InputAdornment position=\"end\">milisegundos</InputAdornment>,\n            }}\n          />\n        </div>\n\n        <Button\n          className=\"w-full\"\n          variant=\"contained\"\n          disabled={\n            validateString(password, 0, 200) ||\n            validateString(user, 0, 200) ||\n            validateUrl(endPoint) ||\n            validateNumber(timeout, 0, 600000)\n          }\n          onClick={handleTestConnection}\n        >\n          {t('TEST_CONNECTION')}\n        </Button>\n      </div>\n      <br />\n      {resultTestConnection === 200 ? (\n        <div className=\"flex items-center\">\n          <Icon fontSize=\"large\">check_circle_sharp_icon</Icon>{' '}\n          <Typography>{t('CONNECTION_SUCCES')}</Typography>\n        </div>\n      ) : resultTestConnection !== 200 && resultTestConnection !== 0 ? (\n        <div className=\"flex items-center\">\n          <Icon fontSize=\"large\">cancel</Icon> <Typography>{t('CONNECTION_FAILED')}</Typography>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}