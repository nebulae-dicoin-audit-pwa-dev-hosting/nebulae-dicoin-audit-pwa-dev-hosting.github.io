{"ast":null,"code":"import _classCallCheck from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";/* eslint import/no-extraneous-dependencies: off */import firebase from'firebase/compat/app';import'firebase/compat/auth';import'firebase/compat/database';import config from'./firebaseServiceConfig';var FirebaseService=/*#__PURE__*/function(){function FirebaseService(){var _this=this;_classCallCheck(this,FirebaseService);this.getUserData=function(userId){if(!firebase.apps.length){return false;}return new Promise(function(resolve,reject){_this.db.ref(\"users/\".concat(userId)).once('value').then(function(snapshot){var user=snapshot.val();resolve(user);});});};this.updateUserData=function(user){if(!firebase.apps.length){return false;}return _this.db.ref(\"users/\".concat(user.uid)).set(user);};this.onAuthStateChanged=function(callback){if(!_this.auth){return;}_this.auth.onAuthStateChanged(callback);};this.signOut=function(){if(!_this.auth){return;}_this.auth.signOut();};}_createClass(FirebaseService,[{key:\"init\",value:function init(success){if(Object.entries(config).length===0&&config.constructor===Object){if(process.env.NODE_ENV==='development'){console.warn('Missing Firebase Configuration at src/app/services/firebaseService/firebaseServiceConfig.js');}success(false);return;}if(firebase.apps.length){return;}firebase.initializeApp(config);this.db=firebase.database();this.auth=firebase.auth();success(true);}}]);return FirebaseService;}();var instance=new FirebaseService();export default instance;","map":null,"metadata":{},"sourceType":"module"}