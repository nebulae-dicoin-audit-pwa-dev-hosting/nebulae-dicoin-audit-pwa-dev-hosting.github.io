{"ast":null,"code":"import _slicedToArray from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import FuseScrollbars from'@fuse/core/FuseScrollbars';import{styled,ThemeProvider,useTheme}from'@mui/material/styles';import ClickAwayListener from'@mui/material/ClickAwayListener';import useMediaQuery from'@mui/material/useMediaQuery';import clsx from'clsx';import{memo,useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import FuseNavigation from'@fuse/core/FuseNavigation/FuseNavigation';import{selectNavigation}from'app/store/fuse/navigationSlice';import{navbarCloseMobile}from'app/store/fuse/navbarSlice';import{selectContrastMainTheme}from'app/store/fuse/settingsSlice';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Root=styled('div')(function(_ref){var theme=_ref.theme;return{backgroundColor:theme.palette.primary.main,color:theme.palette.primary.contrastText};});var StyledPanel=styled(FuseScrollbars)(function(_ref2){var theme=_ref2.theme,opened=_ref2.opened;return _objectSpread({backgroundColor:theme.palette.background.default,color:theme.palette.text.primary,transition:theme.transitions.create(['opacity'],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.shortest}),opacity:0,pointerEvents:'none'},opened&&{opacity:1,pointerEvents:'initial'});});function needsToBeOpened(location,item){return location&&isUrlInChildren(item,location.pathname);}function isUrlInChildren(parent,url){if(!parent.children){return false;}for(var i=0;i<parent.children.length;i+=1){if(parent.children[i].children){if(isUrlInChildren(parent.children[i],url)){return true;}}if(parent.children[i].url===url){return true;}}return false;}function NavbarStyle3Content(props){var _selectedNavigation$2;var navigation=useSelector(selectNavigation);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedNavigation=_useState2[0],setSelectedNavigation=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),panelOpen=_useState4[0],setPanelOpen=_useState4[1];var theme=useTheme();var mdDown=useMediaQuery(theme.breakpoints.down('lg'));var dispatch=useDispatch();var contrastTheme=useSelector(selectContrastMainTheme(theme.palette.primary.main));var location=useLocation();useEffect(function(){navigation===null||navigation===void 0?void 0:navigation.forEach(function(item){if(needsToBeOpened(location,item)){setSelectedNavigation([item]);}});},[navigation,location]);function handleParentItemClick(selected){var _selectedNavigation$;/** if there is no child item do not set/open panel\n     */if(!selected.children){setSelectedNavigation([]);setPanelOpen(false);return;}/**\n     * If navigation already selected toggle panel visibility\n     */if(((_selectedNavigation$=selectedNavigation[0])===null||_selectedNavigation$===void 0?void 0:_selectedNavigation$.id)===selected.id){setPanelOpen(!panelOpen);}else{/**\n       * Set navigation and open panel\n       */setSelectedNavigation([selected]);setPanelOpen(true);}}function handleChildItemClick(selected){setPanelOpen(false);if(mdDown){dispatch(navbarCloseMobile());}}return/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:function onClickAway(){return setPanelOpen(false);},children:/*#__PURE__*/_jsxs(Root,{className:clsx('flex flex-auto flex h-full',props.className),children:[/*#__PURE__*/_jsx(ThemeProvider,{theme:contrastTheme,children:/*#__PURE__*/_jsxs(\"div\",{id:\"fuse-navbar-side-panel\",className:\"flex flex-shrink-0 flex-col items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-44 my-32\",src:\"assets/images/logos/logo-area-metropolitana.png\",alt:\"logo\"}),/*#__PURE__*/_jsx(FuseScrollbars,{className:\"flex flex-1 min-h-0 justify-center w-full overflow-y-auto overflow-x-hidden\",option:{suppressScrollX:true,wheelPropagation:false},children:/*#__PURE__*/_jsx(FuseNavigation,{className:clsx('navigation'),navigation:navigation,layout:\"vertical-2\",onItemClick:handleParentItemClick,firstLevel:true,selectedId:(_selectedNavigation$2=selectedNavigation[0])===null||_selectedNavigation$2===void 0?void 0:_selectedNavigation$2.id,dense:props.dense})})]})}),selectedNavigation.length>0&&/*#__PURE__*/_jsx(StyledPanel,{id:\"fuse-navbar-panel\",opened:panelOpen,className:clsx('shadow-5 overflow-y-auto overflow-x-hidden'),option:{suppressScrollX:true,wheelPropagation:false},children:/*#__PURE__*/_jsx(FuseNavigation,{className:clsx('navigation'),navigation:selectedNavigation,layout:\"vertical\",onItemClick:handleChildItemClick})})]})});}export default/*#__PURE__*/memo(NavbarStyle3Content);","map":null,"metadata":{},"sourceType":"module"}