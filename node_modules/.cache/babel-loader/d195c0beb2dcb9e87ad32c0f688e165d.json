{"ast":null,"code":"import _toConsumableArray from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{amber}from'@mui/material/colors';import Divider from'@mui/material/Divider';import Icon from'@mui/material/Icon';import IconButton from'@mui/material/IconButton';import Input from'@mui/material/Input';import ListItemIcon from'@mui/material/ListItemIcon';import ListItemText from'@mui/material/ListItemText';import Menu from'@mui/material/Menu';import MenuItem from'@mui/material/MenuItem';import Tooltip from'@mui/material/Tooltip';import Typography from'@mui/material/Typography';import{selectFlatNavigation}from'app/store/fuse/navigationSlice';import clsx from'clsx';import{motion}from'framer-motion';import{memo,useRef,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{updateUserShortcuts}from'app/auth/store/userSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FuseShortcuts(props){var dispatch=useDispatch();var shortcuts=useSelector(function(_ref){var auth=_ref.auth;return auth.user.data.shortcuts;})||[];var navigation=useSelector(selectFlatNavigation);var searchInputRef=useRef(null);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),addMenu=_useState2[0],setAddMenu=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),searchResults=_useState6[0],setSearchResults=_useState6[1];var shortcutItems=shortcuts?shortcuts.map(function(id){return navigation.find(function(item){return item.id===id;});}):[];function addMenuClick(event){setAddMenu(event.currentTarget);}function addMenuClose(){setAddMenu(null);}function search(ev){var newSearchText=ev.target.value;setSearchText(newSearchText);if(newSearchText.length!==0&&navigation){setSearchResults(navigation.filter(function(item){return item.title.toLowerCase().includes(newSearchText.toLowerCase());}));return;}setSearchResults(null);}function toggleInShortcuts(id){var newShortcuts=_toConsumableArray(shortcuts);newShortcuts=newShortcuts.includes(id)?newShortcuts.filter(function(_id){return id!==_id;}):[].concat(_toConsumableArray(newShortcuts),[id]);dispatch(updateUserShortcuts(newShortcuts));}function ShortcutMenuItem(_ref2){var item=_ref2.item,onToggle=_ref2.onToggle;return/*#__PURE__*/_jsx(Link,{to:item.url,role:\"button\",children:/*#__PURE__*/_jsxs(MenuItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{className:\"min-w-40\",children:item.icon?/*#__PURE__*/_jsx(Icon,{children:item.icon}):/*#__PURE__*/_jsx(\"span\",{className:\"text-20 font-semibold uppercase text-center\",children:item.title[0]})}),/*#__PURE__*/_jsx(ListItemText,{primary:item.title}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(ev){ev.preventDefault();ev.stopPropagation();onToggle(item.id);},size:\"large\",children:/*#__PURE__*/_jsx(Icon,{color:\"action\",children:shortcuts.includes(item.id)?'star':'star_border'})})]},item.id)});}var container={show:{transition:{staggerChildren:0.1}}};var item={hidden:{opacity:0,scale:0.6},show:{opacity:1,scale:1}};return/*#__PURE__*/_jsxs(\"div\",{className:clsx('flex flex-1',props.variant==='vertical'&&'flex-col flex-grow-0 flex-shrink',props.className),children:[/*#__PURE__*/_jsxs(motion.div,{variants:container,initial:\"hidden\",animate:\"show\",className:clsx('flex flex-1',props.variant==='vertical'&&'flex-col'),children:[shortcutItems.map(function(_item){return _item&&/*#__PURE__*/_jsx(Link,{to:_item.url,role:\"button\",children:/*#__PURE__*/_jsx(Tooltip,{title:_item.title,placement:props.variant==='horizontal'?'bottom':'left',children:/*#__PURE__*/_jsx(IconButton,{className:\"w-40 h-40 p-0\",component:motion.div,variants:item,size:\"large\",children:_item.icon?/*#__PURE__*/_jsx(Icon,{children:_item.icon}):/*#__PURE__*/_jsx(\"span\",{className:\"text-20 font-semibold uppercase\",children:_item.title[0]})})})},_item.id);}),/*#__PURE__*/_jsx(Tooltip,{title:\"Click to add/remove shortcut\",placement:props.variant==='horizontal'?'bottom':'left',children:/*#__PURE__*/_jsx(IconButton,{component:motion.div,variants:item,className:\"w-40 h-40 p-0\",\"aria-owns\":addMenu?'add-menu':null,\"aria-haspopup\":\"true\",onClick:addMenuClick,size:\"large\",children:/*#__PURE__*/_jsx(Icon,{sx:{color:amber[600]},children:\"star\"})})})]}),/*#__PURE__*/_jsxs(Menu,{id:\"add-menu\",anchorEl:addMenu,open:Boolean(addMenu),onClose:addMenuClose,classes:{paper:'mt-48 min-w-256'},TransitionProps:{onEntered:function onEntered(){searchInputRef.current.focus();},onExited:function onExited(){setSearchText('');}},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-16 pt-8\",children:/*#__PURE__*/_jsx(Input,{inputRef:searchInputRef,value:searchText,onChange:search,placeholder:\"Search for an app or page\",className:\"\",fullWidth:true,inputProps:{'aria-label':'Search'},disableUnderline:true})}),/*#__PURE__*/_jsx(Divider,{}),searchText.length!==0&&searchResults&&searchResults.map(function(_item){return/*#__PURE__*/_jsx(ShortcutMenuItem,{item:_item,onToggle:function onToggle(){return toggleInShortcuts(_item.id);}},_item.id);}),searchText.length!==0&&searchResults.length===0&&/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",className:\"p-16 pb-8\",children:\"No results..\"}),searchText.length===0&&shortcutItems.map(function(_item){return _item&&/*#__PURE__*/_jsx(ShortcutMenuItem,{item:_item,onToggle:function onToggle(){return toggleInShortcuts(_item.id);}},_item.id);})]})]});}FuseShortcuts.defaultProps={variant:'horizontal'};export default/*#__PURE__*/memo(FuseShortcuts);","map":null,"metadata":{},"sourceType":"module"}