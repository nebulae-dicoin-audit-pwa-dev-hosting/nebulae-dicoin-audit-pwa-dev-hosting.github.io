{"ast":null,"code":"import _objectSpread from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sebastianmolano/NebulaE/Projects/GTPC/dicon-audit-pwa/frontend/dicon-audit-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";// eslint-disable-next-line max-classes-per-file\nimport _ from'@lodash';import*as colors from'@mui/material/colors';var EventEmitter=/*#__PURE__*/function(){function EventEmitter(){_classCallCheck(this,EventEmitter);this.events={};}_createClass(EventEmitter,[{key:\"_getEventListByName\",value:function _getEventListByName(eventName){if(typeof this.events[eventName]==='undefined'){this.events[eventName]=new Set();}return this.events[eventName];}},{key:\"on\",value:function on(eventName,fn){this._getEventListByName(eventName).add(fn);}},{key:\"once\",value:function once(eventName,fn){var self=this;var onceFn=function onceFn(){self.removeListener(eventName,onceFn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}fn.apply(self,args);};this.on(eventName,onceFn);}},{key:\"emit\",value:function emit(eventName){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}this._getEventListByName(eventName).forEach(// eslint-disable-next-line func-names\nfunction(fn){fn.apply(this,args);}.bind(this));}},{key:\"removeListener\",value:function removeListener(eventName,fn){this._getEventListByName(eventName).delete(fn);}}]);return EventEmitter;}();var FuseUtils=/*#__PURE__*/function(){function FuseUtils(){_classCallCheck(this,FuseUtils);}_createClass(FuseUtils,null,[{key:\"filterArrayByString\",value:function filterArrayByString(mainArr,searchText){var _this=this;if(searchText===''){return mainArr;}searchText=searchText.toLowerCase();return mainArr.filter(function(itemObj){return _this.searchInObj(itemObj,searchText);});}},{key:\"searchInObj\",value:function searchInObj(itemObj,searchText){if(!itemObj){return false;}var propArray=Object.keys(itemObj);for(var i=0;i<propArray.length;i+=1){var prop=propArray[i];var value=itemObj[prop];if(typeof value==='string'){if(this.searchInString(value,searchText)){return true;}}else if(Array.isArray(value)){if(this.searchInArray(value,searchText)){return true;}}if(typeof value==='object'){if(this.searchInObj(value,searchText)){return true;}}}return false;}},{key:\"searchInArray\",value:function searchInArray(arr,searchText){var _this2=this;arr.forEach(function(value){if(typeof value==='string'){if(_this2.searchInString(value,searchText)){return true;}}if(typeof value==='object'){if(_this2.searchInObj(value,searchText)){return true;}}return false;});return false;}},{key:\"searchInString\",value:function searchInString(value,searchText){return value.toLowerCase().includes(searchText);}},{key:\"generateGUID\",value:function generateGUID(){function S4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}return S4()+S4();}},{key:\"toggleInArray\",value:function toggleInArray(item,array){if(array.indexOf(item)===-1){array.push(item);}else{array.splice(array.indexOf(item),1);}}},{key:\"handleize\",value:function handleize(text){return text.toString().toLowerCase().replace(/\\s+/g,'-')// Replace spaces with -\n.replace(/\\W+/g,'')// Remove all non-word chars\n.replace(/--+/g,'-')// Replace multiple - with single -\n.replace(/^-+/,'')// Trim - from start of text\n.replace(/-+$/,'');// Trim - from end of text\n}},{key:\"setRoutes\",value:function setRoutes(config,defaultAuth){var routes=_toConsumableArray(config.routes);routes=routes.map(function(route){var auth=config.auth||config.auth===null?config.auth:defaultAuth||null;auth=route.auth||route.auth===null?route.auth:auth;var settings=_.merge({},config.settings,route.settings);return _objectSpread(_objectSpread({},route),{},{settings:settings,auth:auth});});return _toConsumableArray(routes);}},{key:\"generateRoutesFromConfigs\",value:function generateRoutesFromConfigs(configs,defaultAuth){var _this3=this;var allRoutes=[];configs.forEach(function(config){allRoutes=[].concat(_toConsumableArray(allRoutes),_toConsumableArray(_this3.setRoutes(config,defaultAuth)));});return allRoutes;}},{key:\"findById\",value:function findById(obj,id){var i;var childObj;var result;if(id===obj.id){return obj;}for(i=0;i<Object.keys(obj).length;i+=1){childObj=obj[Object.keys(obj)[i]];if(typeof childObj==='object'){result=this.findById(childObj,id);if(result){return result;}}}return false;}},{key:\"getFlatNavigation\",value:function getFlatNavigation(navigationItems){var flatNavigation=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];for(var i=0;i<navigationItems.length;i+=1){var navItem=navigationItems[i];if(navItem.type==='item'){flatNavigation.push({id:navItem.id,title:navItem.title,type:navItem.type,icon:navItem.icon||false,url:navItem.url,auth:navItem.auth||null});}if(navItem.type==='collapse'||navItem.type==='group'){if(navItem.children){this.getFlatNavigation(navItem.children,flatNavigation);}}}return flatNavigation;}},{key:\"randomMatColor\",value:function randomMatColor(hue){hue=hue||'400';var mainColors=['red','pink','purple','deepPurple','indigo','blue','lightBlue','cyan','teal','green','lightGreen','lime','yellow','amber','orange','deepOrange'];var randomColor=mainColors[Math.floor(Math.random()*mainColors.length)];return colors[randomColor][hue];}},{key:\"difference\",value:function difference(object,base){function changes(_object,_base){return _.transform(_object,function(result,value,key){if(!_.isEqual(value,_base[key])){result[key]=_.isObject(value)&&_.isObject(_base[key])?changes(value,_base[key]):value;}});}return changes(object,base);}},{key:\"updateNavItem\",value:function updateNavItem(nav,id,item){var _this4=this;return nav.map(function(_item){if(_item.id===id){return _.merge({},_item,item);}if(_item.children){return _.merge({},_item,{children:_this4.updateNavItem(_item.children,id,item)});}return _.merge({},_item);});}},{key:\"removeNavItem\",value:function removeNavItem(nav,id){var _this5=this;return nav.map(function(_item){if(_item.id===id){return null;}if(_item.children){return _.merge({},_.omit(_item,['children']),{children:_this5.removeNavItem(_item.children,id)});}return _.merge({},_item);}).filter(function(s){return s;});}},{key:\"prependNavItem\",value:function prependNavItem(nav,item,parentId){var _this6=this;if(!parentId){return[item].concat(_toConsumableArray(nav));}return nav.map(function(_item){if(_item.id===parentId&&_item.children){return{_item:_item,children:[item].concat(_toConsumableArray(_item.children))};}if(_item.children){return _.merge({},_item,{children:_this6.prependNavItem(_item.children,item,parentId)});}return _.merge({},_item);});}},{key:\"appendNavItem\",value:function appendNavItem(nav,item,parentId){var _this7=this;if(!parentId){return[].concat(_toConsumableArray(nav),[item]);}return nav.map(function(_item){if(_item.id===parentId&&_item.children){return _objectSpread(_objectSpread({},_item),{},{children:[].concat(_toConsumableArray(_item.children),[item])});}if(_item.children){return _.merge({},_item,{children:_this7.appendNavItem(_item.children,item,parentId)});}return _.merge({},_item);});}},{key:\"hasPermission\",value:function hasPermission(authArr,userRole){/**\n     * If auth array is not defined\n     * Pass and allow\n     */if(authArr===null||authArr===undefined){// console.info(\"auth is null || undefined:\", authArr);\nreturn true;}if(authArr.length===0){/**\n       * if auth array is empty means,\n       * allow only user role is guest (null or empty[])\n       */ // console.info(\"auth is empty[]:\", authArr);\nreturn!userRole||userRole.length===0;}/**\n     * Check if user has grants\n     */ // console.info(\"auth arr:\", authArr);\n/*\n            Check if user role is array,\n            */if(userRole&&Array.isArray(userRole)){return authArr.some(function(r){return userRole.indexOf(r)>=0;});}/*\n            Check if user role is string,\n            */return authArr.includes(userRole);}},{key:\"filterRecursive\",value:function filterRecursive(data,predicate){var _this8=this;// if no data is sent in, return null, otherwise transform the data\nreturn!data?null:data.reduce(function(list,entry){var clone=null;if(predicate(entry)){// if the object matches the filter, clone it as it is\nclone=_objectSpread({},entry);}if(entry.children!=null){// if the object has childrens, filter the list of children\nvar children=_this8.filterRecursive(entry.children,predicate);if(children.length>0){// if any of the children matches, clone the parent object, overwrite\n// the children list with the filtered list\nclone=_objectSpread(_objectSpread({},entry),{},{children:children});}}// if there's a cloned object, push it to the output list\nif(clone){list.push(clone);}return list;},[]);}}]);return FuseUtils;}();FuseUtils.EventEmitter=EventEmitter;export default FuseUtils;","map":null,"metadata":{},"sourceType":"module"}